(self.webpackChunkcom_app_shei_manageam=self.webpackChunkcom_app_shei_manageam||[]).push([[6489],{2346:(e,t,n)=>{"use strict";n.d(t,{U:()=>M});var r=n(4762),l=n(5765),o=n(639),i=n(3083),s=n(6215),a=n(9019),d=n(9709),c=n(1841);let u=(()=>{class e{constructor(e,t){this.userService=e,this.http=t,this.url=a.N.apiUrl+"/health";const n=this.userService.fetchDetails(),{blood_pressure:r}=n;this.allBloodPressure=new s.X(r)}get(){return this.update(),this.allBloodPressure}update(){const e=this.userService.fetchDetails(),{user_details:{id:t}}=e;this.http.get(`${this.url}/allBloodPressure/${t}`).subscribe(t=>{this.userService.setDetails(Object.assign(Object.assign({},e),{blood_pressure:t})),this.allBloodPressure.next(t)})}remove(e){const t=this.userService.fetchDetails(),{user_details:{id:n}}=t;return this.http.delete(`${this.url}/deleteBloodPressure/${e}?user_id=${n}`)}add(e){const{user_details:{id:t}}=this.userService.fetchDetails();return this.http.post(`${this.url}/addBloodPressure`,Object.assign(Object.assign({},e),{user_id:t}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](d.K),o["\u0275\u0275inject"](c.eN))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n(4031),p=n(9833),h=n(7020),g=n(665),b=n(8583);function f(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"div",11),o["\u0275\u0275element"](2,"ion-icon",12),o["\u0275\u0275elementStart"](3,"span"),o["\u0275\u0275text"](4,"Health Tip"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"p",13),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("innerHTML",e.tip,o["\u0275\u0275sanitizeHtml"])}}let v=(()=>{class e{constructor(e,t,n,r,l,o){this.modalController=e,this.bloodPressureService=t,this.platform=n,this.global=r,this.webSocket=l,this.auth=o,this.pressure={upper:"",lower:""},this.tip="",this.subs=[]}ngOnInit(){let e=this.platform.backButton.subscribe(()=>{this.modalController.dismiss()});this.subs.push(e)}updateTip(){this.tip=""!=this.pressure.upper&&""!=this.pressure.lower?(0,l.j3)(this.pressure.upper,this.pressure.lower):""}scrollIntoView(e){e.scrollIntoView()}save(){if(!this.pressure.lower||!this.pressure.upper)return this.global.alert("Update blood pressure","All fields are required!",["OK"]);this.bloodPressureService.add(Object.assign({time:new Date},this.pressure)).subscribe(e=>{this.modalController.dismiss(),this.webSocket.emit("blood-pressure:update",{user_id:this.auth.loggedUser().id}),this.global.alert("Update blood pressure","Blood pressure sucessfully updated!",["OK"])})}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.ModalController),o["\u0275\u0275directiveInject"](u),o["\u0275\u0275directiveInject"](i.Platform),o["\u0275\u0275directiveInject"](m.U),o["\u0275\u0275directiveInject"](p.i),o["\u0275\u0275directiveInject"](h.$))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-update-blood-pressure"]],decls:18,vars:5,consts:[[1,"text-gray-900"],[1,"bg-blue-100","px-4","py-6","ion-no-border","text-xl","flex","justify-between","items-center"],[1,"font-bold"],["name","close",1,"bg-gray-500","text-2xl","text-white","rounded-full",3,"click"],[1,"p-4","space-y-4"],["position","stacked",1,"block","font-calibre","w-full"],["placeholder","Enter systolic reading","type","number",3,"value","ngModel","ngModelChange"],["onclick","scrollIntoView(this)"],["type","number","placeholder","Enter diastolic reading",3,"value","ngModel","ngModelChange"],[4,"ngIf"],[1,"w-full","bg-accentBlue","p-4","font-semibold","text-center","block","text-white","uppercase","rounded-xl","mt-10",3,"click"],[1,"flex","items-center"],["name","information-circle-outline",1,"text-blue-600","text-xl","inline-block","mr-2","relative","-top-1"],[1,"text-gray-400","mt-3","font-geomanist",3,"innerHTML"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-app",0),o["\u0275\u0275elementStart"](1,"ion-header",1),o["\u0275\u0275elementStart"](2,"p",2),o["\u0275\u0275text"](3,"Record Blood pressure"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"ion-icon",3),o["\u0275\u0275listener"]("click",function(){return t.modalController.dismiss()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"ion-content"),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"ion-item"),o["\u0275\u0275elementStart"](8,"ion-label",5),o["\u0275\u0275text"](9,"Systolic - upper number(mmHg)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"ion-input",6),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.pressure.upper=e})("ngModelChange",function(){return t.updateTip()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](11,"ion-item",7),o["\u0275\u0275elementStart"](12,"ion-label",5),o["\u0275\u0275text"](13,"Diastolic - lower number (mmHg)"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](14,"ion-input",8),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.pressure.lower=e})("ngModelChange",function(){return t.updateTip()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](15,f,6,1,"div",9),o["\u0275\u0275elementStart"](16,"span",10),o["\u0275\u0275listener"]("click",function(){return t.save()}),o["\u0275\u0275text"](17,"Done"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("value",t.pressure.upper)("ngModel",t.pressure.upper),o["\u0275\u0275advance"](4),o["\u0275\u0275property"]("value",t.pressure.lower)("ngModel",t.pressure.lower),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.tip))},directives:[i.IonApp,i.IonHeader,i.IonIcon,i.IonContent,i.IonItem,i.IonLabel,i.IonInput,i.NumericValueAccessor,g.NgControlStatus,g.NgModel,b.NgIf],styles:[""]}),e})();var x=n(7877),S=n(3293),y=n(6954),I=n(3286),w=n(8932);function E(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",10),o["\u0275\u0275text"](1," You have not added any Blood pressure reading yet "),o["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"li",11),o["\u0275\u0275elementStart"](1,"p",12),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",13),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().toggle(t)}),o["\u0275\u0275elementStart"](4,"p",14),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](6,"ion-icon",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"app-expandable",16),o["\u0275\u0275elementStart"](8,"div",17),o["\u0275\u0275elementStart"](9,"div",18),o["\u0275\u0275element"](10,"ion-icon",19),o["\u0275\u0275elementStart"](11,"span"),o["\u0275\u0275text"](12,"Health Tip"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](13,"p",20),o["\u0275\u0275elementStart"](14,"p",21),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().remove(t.id)}),o["\u0275\u0275text"](15," Remove "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](e.date),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"]("",e.upper,"/",e.lower," mmHg"),o["\u0275\u0275advance"](1),o["\u0275\u0275classMapInterpolate1"]("text-xl ",e==n.expand?"rotate-90":"",""),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("expanded",e==n.expand),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("innerHTML",e.tip,o["\u0275\u0275sanitizeHtml"])}}let k=(()=>{class e{constructor(e,t,n,r,l,o,i){this.modalController=e,this.bloodPressureService=t,this.global=n,this.platform=r,this.healthService=l,this.webSocket=o,this.auth=i,this.expand=null,this.allBloodPressure=[],this.subs=[]}ngOnInit(){let e=this.platform.backButton.subscribe(()=>{this.modalController.dismiss()});this.subs.push(e),e=this.bloodPressureService.allBloodPressure.subscribe(e=>{this.data=e}),this.subs.push(e)}share(){return(0,r.mG)(this,void 0,void 0,function*(){this.modalController.dismiss();const e=yield this.modalController.create({component:S._,cssClass:"modal-80"});e.onDidDismiss().then(({data:e})=>(0,r.mG)(this,void 0,void 0,function*(){if(!e)return;const t=yield this.modalController.create({component:y.M,cssClass:"modal-50"}),n=e;t.onDidDismiss().then(({data:e})=>{e&&this.healthService.share(Object.assign(Object.assign({email:e},n),{type:"blood_pressure"})).subscribe(e=>this.global.alert("Share record",e,[{role:!0,text:"OK"}]))}),yield t.present()})),yield e.present()})}set data(e){this.allBloodPressure=e.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(e.date=(0,x.ZP)(new Date(e.created_at),"dd mmm, yyyy-hh:MMtt"),e.tip=(0,l.j3)(e.upper,e.lower),e))}toggle(e){this.expand=e==this.expand?null:e}remove(e){return(0,r.mG)(this,void 0,void 0,function*(){const{role:t}=yield this.global.alert("Remove Blood Pressure","Are you sure you want to remove blood pressure reading?",[{role:!1,text:"Cancel"},{role:!0,text:"OK"}]);t&&this.bloodPressureService.remove(e).subscribe(t=>{this.allBloodPressure=this.allBloodPressure.filter(t=>t.id!=e),this.webSocket.emit("blood-pressure:update",{user_id:this.auth.loggedUser().id})})})}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.ModalController),o["\u0275\u0275directiveInject"](u),o["\u0275\u0275directiveInject"](m.U),o["\u0275\u0275directiveInject"](i.Platform),o["\u0275\u0275directiveInject"](I.z),o["\u0275\u0275directiveInject"](p.i),o["\u0275\u0275directiveInject"](h.$))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-view-blood-pressure"]],inputs:{data:"data"},decls:15,vars:2,consts:[[1,"pale-bg-default","text-gray-900"],[1,"ion-no-border","p-4","flex","justify-between","font-geomanist"],[1,"flex"],["name","arrow-back",1,"text-2xl",3,"click"],[1,"ml-4","block","text-gray-900","text-xl"],[1,"text-accentBlue","text-xl",3,"click"],[1,"pale-bg-default","p-4","font-bold","min-h-full"],[1,"mb-4"],["class","text-gray-500",4,"ngIf"],["class","bg-white p-4 mb-2",4,"ngFor","ngForOf"],[1,"text-gray-500"],[1,"bg-white","p-4","mb-2"],[1,"text-accentBlue"],[1,"flex","justify-between","items-center",3,"click"],[1,"text-lg"],["name","chevron-forward"],["expandHeight","5000px",3,"expanded"],[1,"bg-white","mt-6","text-gray-600","space-y-4"],[1,"flex","items-center"],["name","information-circle-outline",1,"text-blue-600","text-xl","inline-block","mr-2","relative"],[1,"text-gray-400","mt-3","font-geomanist",3,"innerHTML"],[1,"bg-red-600","font-bold","text-white","p-3","text-center","rounded-full",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-app",0),o["\u0275\u0275elementStart"](1,"ion-header",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"ion-icon",3),o["\u0275\u0275listener"]("click",function(){return t.modalController.dismiss()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"p",4),o["\u0275\u0275text"](5,"Blood Pressure"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"span",5),o["\u0275\u0275listener"]("click",function(){return t.share()}),o["\u0275\u0275text"](7,"Share"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"ion-content"),o["\u0275\u0275elementStart"](9,"div",6),o["\u0275\u0275elementStart"](10,"p",7),o["\u0275\u0275text"](11,"Blood pressure history"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](12,E,2,0,"p",8),o["\u0275\u0275elementStart"](13,"ul"),o["\u0275\u0275template"](14,C,16,8,"li",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngIf",0==t.allBloodPressure.length),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.allBloodPressure))},directives:[i.IonApp,i.IonHeader,i.IonIcon,i.IonContent,b.NgIf,b.NgForOf,w.I],styles:[""]}),e})();var j=n(688);let M=(()=>{class e{constructor(e,t,n,r){this.modalController=e,this.bloodPressureService=t,this.webSocket=n,this.auth=r,this.bloodPressure=null,this.allBloodPressure=[],this.subs=[],this.color=""}ngOnInit(){let e=this.bloodPressureService.get().subscribe(e=>{this.allBloodPressure=e,this.bloodPressure=e.slice(-1)[0],this.color=this.bloodPressure?this.updateSugarColor(this.bloodPressure.upper,this.bloodPressure.lower):"gray"});this.subs.push(e),e=this.webSocket.listen("blood-pressure:update").subscribe(({user_id:e})=>{e==this.auth.loggedUser().id&&this.bloodPressureService.update()}),this.subs.push(e)}updateSugarColor(e,t){switch(!0){case 0===e&&0===t:return"#fff";case e<=120&&e>=90&&t<=80&&t>=60:return"green";case e<90:return"rgb(94, 93, 92)";case e>120&&e<=129:return"rgb(255, 236, 0)";case e>=130&&e<139:return"rgb(240, 128, 79)";case e>=140:default:return"red"}}view(){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.modalController.create({component:k,componentProps:{data:this.allBloodPressure}})).present()})}record(e=null){return(0,r.mG)(this,void 0,void 0,function*(){null==e||e.stopPropagation();const t=yield this.modalController.create({component:v,cssClass:"modal-80"});yield t.present()})}ngOndestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.ModalController),o["\u0275\u0275directiveInject"](u),o["\u0275\u0275directiveInject"](p.i),o["\u0275\u0275directiveInject"](h.$))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-blood-pressure"]],decls:10,vars:3,consts:[[1,"bg-blue-200","rounded-xl","p-4","text-center","relative",3,"click"],["value","100",3,"color"],[1,"font-bold","text-2xl","mt-6"],[1,"text-sm","mb-4","inline-block"],[1,"font-bold"],[1,"border","border-accent","py-2","mt-4","rounded-xl",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275listener"]("click",function(){return t.view()}),o["\u0275\u0275element"](1,"app-guage",1),o["\u0275\u0275elementStart"](2,"p",2),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"span",3),o["\u0275\u0275text"](5,"mmhg"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"p",4),o["\u0275\u0275text"](7,"Blood Pressure"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"p",5),o["\u0275\u0275listener"]("click",function(e){return t.record(e)}),o["\u0275\u0275text"](9," Record "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("color",t.color),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate2"](" ",(null==t.bloodPressure?null:t.bloodPressure.upper)||0,"/",(null==t.bloodPressure?null:t.bloodPressure.lower)||0," "))},directives:[j.l],styles:[""]}),e})()},5815:(e,t,n)=>{"use strict";n.d(t,{$:()=>M});var r=n(4762),l=n(5765),o=n(639),i=n(3083),s=n(6215),a=n(9019),d=n(9709),c=n(1841);let u=(()=>{class e{constructor(e,t){this.userService=e,this.http=t,this.url=a.N.apiUrl+"/health";const n=this.userService.fetchDetails(),{blood_sugar:r}=n;this.allBloodSugar=new s.X(r)}get(){return this.update(),this.allBloodSugar}update(){const e=this.userService.fetchDetails(),{user_details:{id:t}}=e;this.http.get(`${this.url}/allBloodSugar/${t}`).subscribe(t=>{this.userService.setDetails(Object.assign(Object.assign({},e),{blood_sugar:t})),this.allBloodSugar.next(t)})}remove(e){const t=this.userService.fetchDetails(),{user_details:{id:n}}=t;return this.http.delete(`${this.url}/deleteBloodSugar/${e}?user_id=${n}`)}add(e){const{user_details:{id:t}}=this.userService.fetchDetails();return this.http.post(`${this.url}/addBloodSugar`,Object.assign(Object.assign({},e),{user_id:t}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](d.K),o["\u0275\u0275inject"](c.eN))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n(4031),p=n(9833),h=n(7020),g=n(665),b=n(8583);function f(e,t){if(1&e&&(o["\u0275\u0275elementStart"](0,"div"),o["\u0275\u0275elementStart"](1,"div",16),o["\u0275\u0275element"](2,"ion-icon",17),o["\u0275\u0275elementStart"](3,"span"),o["\u0275\u0275text"](4,"Health Tip"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](5,"p",18),o["\u0275\u0275elementEnd"]()),2&e){const e=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](5),o["\u0275\u0275property"]("innerHTML",e.tip,o["\u0275\u0275sanitizeHtml"])}}let v=(()=>{class e{constructor(e,t,n,r,l,o){this.modalController=e,this.bloodSugarService=t,this.platform=n,this.global=r,this.webSocket=l,this.auth=o,this.bloodSugar={unit:"",reading_time:"",reading:""},this.tip="",this.subs=[]}ngOnInit(){let e=this.platform.backButton.subscribe(()=>{this.modalController.dismiss()});this.subs.push(e)}updateTip(){this.tip=""!=this.bloodSugar.unit&&""!=this.bloodSugar.reading_time&&""!=this.bloodSugar.reading?(0,l.bD)(Object.assign(Object.assign({},this.bloodSugar),{value:this.bloodSugar.reading})):""}save(){if(!this.bloodSugar.reading||!this.bloodSugar.reading_time||!this.bloodSugar.unit)return this.global.alert("Update blood sugar","All fields are required!",["OK"]);this.bloodSugarService.add(Object.assign(Object.assign({},this.bloodSugar),{time:new Date})).subscribe(e=>{this.modalController.dismiss(),this.webSocket.emit("blood-sugar:update",{user_id:this.auth.loggedUser().id}),this.global.alert("Update blood sugar","Blood sugar sucessfully updated!",["OK"])})}scrollIntoView(e){e.scrollIntoView()}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.ModalController),o["\u0275\u0275directiveInject"](u),o["\u0275\u0275directiveInject"](i.Platform),o["\u0275\u0275directiveInject"](m.U),o["\u0275\u0275directiveInject"](p.i),o["\u0275\u0275directiveInject"](h.$))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-update-blood-sugar"]],decls:30,vars:7,consts:[[1,"text-gray-900"],[1,"bg-blue-100","px-4","py-6","ion-no-border","text-xl","flex","justify-between","items-center"],[1,"font-bold"],["name","close",1,"bg-gray-500","text-2xl","text-white","rounded-full",3,"click"],[1,"p-4","space-y-4"],["position","stacked",1,"block","font-calibre","w-full"],["value","mmol/l","placeholder","Choose unit of measurement",1,"w-full",3,"ngModel","ngModelChange"],["value","mmol/l"],["value","mg/dl"],["placeholder","Choose reading time",1,"w-full",3,"value","ngModel","ngModelChange"],["value","before"],["value","after"],["onclick","scrollIntoView(this)"],["placeholder","Enter blood sugar level","type","number",3,"value","ngModel","ngModelChange"],[4,"ngIf"],[1,"w-full","bg-accentBlue","p-4","font-semibold","text-center","block","text-white","uppercase","rounded-xl","mt-10",3,"click"],[1,"flex","items-center"],["name","information-circle-outline",1,"text-blue-600","text-xl","inline-block","mr-2","relative","-top-1"],[1,"text-gray-400","mt-3","font-geomanist",3,"innerHTML"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-app",0),o["\u0275\u0275elementStart"](1,"ion-header",1),o["\u0275\u0275elementStart"](2,"p",2),o["\u0275\u0275text"](3,"Record blood sugar level"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"ion-icon",3),o["\u0275\u0275listener"]("click",function(){return t.modalController.dismiss()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](5,"ion-content"),o["\u0275\u0275elementStart"](6,"div",4),o["\u0275\u0275elementStart"](7,"ion-item"),o["\u0275\u0275elementStart"](8,"ion-label",5),o["\u0275\u0275text"](9,"Unit of measurement"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](10,"ion-select",6),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.bloodSugar.unit=e})("ngModelChange",function(){return t.updateTip()}),o["\u0275\u0275elementStart"](11,"ion-select-option",7),o["\u0275\u0275text"](12,"mmol/L"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](13,"ion-select-option",8),o["\u0275\u0275text"](14,"mg/dl"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](15,"ion-item"),o["\u0275\u0275elementStart"](16,"ion-label",5),o["\u0275\u0275text"](17,"Reading time"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](18,"ion-select",9),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.bloodSugar.reading_time=e})("ngModelChange",function(){return t.updateTip()}),o["\u0275\u0275elementStart"](19,"ion-select-option",10),o["\u0275\u0275text"](20,"Before meal"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](21,"ion-select-option",11),o["\u0275\u0275text"](22," 2 hours after meal "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](23,"ion-item",12),o["\u0275\u0275elementStart"](24,"ion-label",5),o["\u0275\u0275text"](25),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](26,"ion-input",13),o["\u0275\u0275listener"]("ngModelChange",function(e){return t.bloodSugar.reading=e})("ngModelChange",function(){return t.updateTip()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](27,f,6,1,"div",14),o["\u0275\u0275elementStart"](28,"span",15),o["\u0275\u0275listener"]("click",function(){return t.save()}),o["\u0275\u0275text"](29,"Done"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](10),o["\u0275\u0275property"]("ngModel",t.bloodSugar.unit),o["\u0275\u0275advance"](8),o["\u0275\u0275property"]("value",t.bloodSugar.reading_time)("ngModel",t.bloodSugar.reading_time),o["\u0275\u0275advance"](7),o["\u0275\u0275textInterpolate1"]("Blood glucose (",t.bloodSugar.unit,")"),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("value",t.bloodSugar.reading)("ngModel",t.bloodSugar.reading),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("ngIf",t.tip))},directives:[i.IonApp,i.IonHeader,i.IonIcon,i.IonContent,i.IonItem,i.IonLabel,i.IonSelect,i.SelectValueAccessor,g.NgControlStatus,g.NgModel,i.IonSelectOption,i.IonInput,i.NumericValueAccessor,b.NgIf],styles:[""]}),e})();var x=n(7877),S=n(3293),y=n(6954),I=n(3286),w=n(8932);function E(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"p",10),o["\u0275\u0275text"](1," You have not added any Blood sugar reading yet "),o["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e){const e=o["\u0275\u0275getCurrentView"]();o["\u0275\u0275elementStart"](0,"li",11),o["\u0275\u0275elementStart"](1,"p",12),o["\u0275\u0275text"](2),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](3,"div",13),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().toggle(t)}),o["\u0275\u0275elementStart"](4,"p",14),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](6,"ion-icon",15),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](7,"app-expandable",16),o["\u0275\u0275elementStart"](8,"div",17),o["\u0275\u0275elementStart"](9,"div",18),o["\u0275\u0275element"](10,"ion-icon",19),o["\u0275\u0275elementStart"](11,"span"),o["\u0275\u0275text"](12,"Health Tip"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275element"](13,"p",20),o["\u0275\u0275elementStart"](14,"p",21),o["\u0275\u0275listener"]("click",function(){const t=o["\u0275\u0275restoreView"](e).$implicit;return o["\u0275\u0275nextContext"]().remove(t.id)}),o["\u0275\u0275text"](15," Remove "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=o["\u0275\u0275nextContext"]();o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate2"](" ",e.reading_time," meal - ",e.date," "),o["\u0275\u0275advance"](3),o["\u0275\u0275textInterpolate2"]("",e.reading,"",e.unit,""),o["\u0275\u0275advance"](1),o["\u0275\u0275classMapInterpolate1"]("text-xl ",e==n.expand?"rotate-90":"",""),o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("expanded",e==n.expand),o["\u0275\u0275advance"](6),o["\u0275\u0275property"]("innerHTML",e.tip,o["\u0275\u0275sanitizeHtml"])}}let k=(()=>{class e{constructor(e,t,n,r,l,o,i){this.modalController=e,this.bloodSugarService=t,this.global=n,this.platform=r,this.healthService=l,this.webSocket=o,this.auth=i,this.expand=null,this.bloodSugar=[],this.subs=[]}ngOnInit(){let e=this.platform.backButton.subscribe(()=>{this.modalController.dismiss()});this.subs.push(e),this.bloodSugarService.allBloodSugar.subscribe(e=>{this.data=e}),this.subs.push(e)}set data(e){this.bloodSugar=e.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(e.date=(0,x.ZP)(new Date(e.created_at),"dd mmm, yyyy-hh:MMtt"),e.tip=(0,l.bD)(Object.assign(Object.assign({},e),{value:e.reading})),e))}share(){return(0,r.mG)(this,void 0,void 0,function*(){this.modalController.dismiss();const e=yield this.modalController.create({component:S._,cssClass:"modal-80"});e.onDidDismiss().then(({data:e})=>(0,r.mG)(this,void 0,void 0,function*(){if(!e)return;const t=yield this.modalController.create({component:y.M,cssClass:"modal-50"}),n=e;t.onDidDismiss().then(({data:e})=>{e&&this.healthService.share(Object.assign(Object.assign({email:e},n),{type:"blood_sugar"})).subscribe(e=>this.global.alert("Share record",e,[{role:!0,text:"OK"}]))}),yield t.present()})),yield e.present()})}toggle(e){this.expand=e==this.expand?null:e}remove(e){return(0,r.mG)(this,void 0,void 0,function*(){const{role:t}=yield this.global.alert("Remove Blood Sugar","Are you sure you want to remove blood sugar reading?",[{role:!1,text:"Cancel"},{role:!0,text:"OK"}]);t&&this.bloodSugarService.remove(e).subscribe(()=>{this.bloodSugar=this.bloodSugar.filter(t=>t.id!=e),this.webSocket.emit("blood-sugar:update",{user_id:this.auth.loggedUser().id})})})}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.ModalController),o["\u0275\u0275directiveInject"](u),o["\u0275\u0275directiveInject"](m.U),o["\u0275\u0275directiveInject"](i.Platform),o["\u0275\u0275directiveInject"](I.z),o["\u0275\u0275directiveInject"](p.i),o["\u0275\u0275directiveInject"](h.$))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-view-blood-sugar"]],inputs:{data:"data"},decls:15,vars:2,consts:[[1,"pale-bg-default","text-gray-900"],[1,"ion-no-border","p-4","flex","justify-between","font-geomanist"],[1,"flex"],["name","arrow-back",1,"text-2xl",3,"click"],[1,"ml-4","block","text-gray-900","text-xl"],[1,"text-accentBlue","text-xl",3,"click"],[1,"pale-bg-default","p-4","font-bold","min-h-full"],[1,"mb-4"],["class","text-gray-500",4,"ngIf"],["class","bg-white p-4 mb-1",4,"ngFor","ngForOf"],[1,"text-gray-500"],[1,"bg-white","p-4","mb-1"],[1,"text-accentBlue"],[1,"flex","justify-between","items-center",3,"click"],[1,"text-lg"],["name","chevron-forward"],["expandHeight","500px",3,"expanded"],[1,"bg-white","mt-6","text-gray-600","space-y-4"],[1,"flex","items-center"],["name","information-circle-outline",1,"text-blue-600","text-xl","inline-block","mr-2","relative"],[1,"text-gray-400","mt-3","font-geomanist",3,"innerHTML"],[1,"bg-red-600","font-bold","text-white","p-3","text-center","rounded-full",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"ion-app",0),o["\u0275\u0275elementStart"](1,"ion-header",1),o["\u0275\u0275elementStart"](2,"div",2),o["\u0275\u0275elementStart"](3,"ion-icon",3),o["\u0275\u0275listener"]("click",function(){return t.modalController.dismiss()}),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"p",4),o["\u0275\u0275text"](5,"Blood sugar"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"span",5),o["\u0275\u0275listener"]("click",function(){return t.share()}),o["\u0275\u0275text"](7,"Share"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"ion-content"),o["\u0275\u0275elementStart"](9,"div",6),o["\u0275\u0275elementStart"](10,"p",7),o["\u0275\u0275text"](11,"Blood sugar history"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275template"](12,E,2,0,"p",8),o["\u0275\u0275elementStart"](13,"ul"),o["\u0275\u0275template"](14,C,16,9,"li",9),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](12),o["\u0275\u0275property"]("ngIf",0==t.bloodSugar.length),o["\u0275\u0275advance"](2),o["\u0275\u0275property"]("ngForOf",t.bloodSugar))},directives:[i.IonApp,i.IonHeader,i.IonIcon,i.IonContent,b.NgIf,b.NgForOf,w.I],styles:[""]}),e})();var j=n(688);let M=(()=>{class e{constructor(e,t,n,r){this.modalController=e,this.bloodSugarService=t,this.webSocket=n,this.auth=r,this.bloodSugar=null,this.color="gray",this.allBloodSugar=[],this.subs=[]}ngOnInit(){this.fetch();let e=this.webSocket.listen("blood-sugar:update").subscribe(({user_id:e})=>{e==this.auth.loggedUser().id&&this.bloodSugarService.update()});this.subs.push(e)}fetch(){this.bloodSugarService.get().subscribe(e=>{this.allBloodSugar=e,this.bloodSugar=e.slice(-1)[0],this.color=this.bloodSugar?this.updateSugarColor(this.bloodSugar.unit,this.bloodSugar.reading,this.bloodSugar.time):"gray"})}updateSugarColor(e,t,n){if("mmol/L"===e){if("after"===n)switch(!0){case 0!=t:return"white";case t<4.4:return"orange";case t>=4.4&&t<10:return"green";default:return"red"}switch(!0){case 0!=t:return"white";case t<4.4:return"orange";case t>=4.4&&t<=7.2:return"green";default:return"red"}}else{if("after"===n)switch(!0){case 0!=t:return"white";case t<80:return"orange";case t>=80&&t<180:return"green";default:return"red"}switch(!0){case!t:return"white";case t<80:return"orange";case t>=80&&t<=130:return"green";default:return"red"}}}view(){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.modalController.create({component:k,componentProps:{data:this.allBloodSugar}})).present()})}record(e=null){return(0,r.mG)(this,void 0,void 0,function*(){null==e||e.stopPropagation();const t=yield this.modalController.create({component:v,componentProps:{data:this.allBloodSugar},cssClass:"modal-80"});yield t.present()})}ngOndestroy(){this.subs.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275directiveInject"](i.ModalController),o["\u0275\u0275directiveInject"](u),o["\u0275\u0275directiveInject"](p.i),o["\u0275\u0275directiveInject"](h.$))},e.\u0275cmp=o["\u0275\u0275defineComponent"]({type:e,selectors:[["app-blood-sugar"]],decls:10,vars:3,consts:[[1,"bg-pink-200","rounded-xl","p-4","text-center","relative",3,"click"],["value","100",3,"color"],[1,"font-bold","text-2xl","mt-6"],[1,"text-sm","mb-4","inline-block"],[1,"font-bold"],[1,"border","border-accent","py-2","mt-4","rounded-xl",3,"click"]],template:function(e,t){1&e&&(o["\u0275\u0275elementStart"](0,"div",0),o["\u0275\u0275listener"]("click",function(){return t.view()}),o["\u0275\u0275element"](1,"app-guage",1),o["\u0275\u0275elementStart"](2,"p",2),o["\u0275\u0275text"](3),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](4,"span",3),o["\u0275\u0275text"](5),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](6,"p",4),o["\u0275\u0275text"](7,"Blood sugar"),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementStart"](8,"p",5),o["\u0275\u0275listener"]("click",function(e){return t.record(e)}),o["\u0275\u0275text"](9," Record "),o["\u0275\u0275elementEnd"](),o["\u0275\u0275elementEnd"]()),2&e&&(o["\u0275\u0275advance"](1),o["\u0275\u0275property"]("color",t.color),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"]((null==t.bloodSugar?null:t.bloodSugar.reading)||0),o["\u0275\u0275advance"](2),o["\u0275\u0275textInterpolate"](null==t.bloodSugar?null:t.bloodSugar.unit))},directives:[j.l],styles:[""]}),e})()},3293:(e,t,n)=>{"use strict";n.d(t,{_:()=>d});var r=n(639),l=n(3083),o=n(8834),i=n(665),s=n(8583);function a(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"div",8),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().save()}),r["\u0275\u0275text"](1," Continue "),r["\u0275\u0275elementEnd"]()}}let d=(()=>{class e{constructor(e){this.modalController=e,this.optionsRange={pickMode:"range",canBackwardsSelected:!0}}ngOnInit(){}save(){let e;this.dateRange&&this.dateRange.from&&this.dateRange.to&&(e={from:this.dateRange.from.toString(),to:this.dateRange.to.toString()}),this.modalController.dismiss(e)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.ModalController))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-calendar-modal"]],decls:9,vars:5,consts:[[1,"text-gray-900"],[1,"bg-blue-100","px-4","py-6","ion-no-border","text-xl","flex","justify-between","items-center"],[1,"font-bold"],["name","close",1,"bg-gray-500","text-2xl","text-white","rounded-full",3,"click"],[1,"p-4","space-y-4"],[1,"mt-4"],[3,"ngModel","options","type","format","ngModelChange"],["class","\n          bg-accentBlue\n          p-4\n          mx-4\n          font-semibold\n          text-center\n          block\n          text-white\n          uppercase\n          rounded-xl\n          mt-10\n        ",3,"click",4,"ngIf"],[1,"bg-accentBlue","p-4","mx-4","font-semibold","text-center","block","text-white","uppercase","rounded-xl","mt-10",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ion-app",0),r["\u0275\u0275elementStart"](1,"ion-header",1),r["\u0275\u0275elementStart"](2,"p",2),r["\u0275\u0275text"](3,"Choose date range"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"ion-icon",3),r["\u0275\u0275listener"]("click",function(){return t.modalController.dismiss()}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"ion-content",4),r["\u0275\u0275elementStart"](6,"div",5),r["\u0275\u0275elementStart"](7,"ion-calendar",6),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.dateRange=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](8,a,2,0,"div",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngModel",t.dateRange)("options",t.optionsRange)("type",t.type)("format","YYYY-MM-DD"),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",t.dateRange&&t.dateRange.from&&t.dateRange.to))},directives:[l.IonApp,l.IonHeader,l.IonIcon,l.IonContent,o.CalendarComponent,i.NgControlStatus,i.NgModel,s.NgIf],styles:[""]}),e})()},8932:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(639);const l=["expandWrapper"],o=["*"];let i=(()=>{class e{constructor(e){this.renderer=e,this.expanded=!1,this.expandHeight="150px"}ngAfterViewInit(){this.renderer.setStyle(this.expandWrapper.nativeElement,"max-height",this.expandHeight)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](r.Renderer2))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-expandable"]],viewQuery:function(e,t){if(1&e&&r["\u0275\u0275viewQuery"](l,5,r.ElementRef),2&e){let e;r["\u0275\u0275queryRefresh"](e=r["\u0275\u0275loadQuery"]())&&(t.expandWrapper=e.first)}},inputs:{expanded:"expanded",expandHeight:"expandHeight"},ngContentSelectors:o,decls:3,vars:2,consts:[[1,"expand-wrapper"],["expandWrapper",""]],template:function(e,t){1&e&&(r["\u0275\u0275projectionDef"](),r["\u0275\u0275elementStart"](0,"div",0,1),r["\u0275\u0275projection"](2),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275classProp"]("collapsed",!t.expanded)},styles:[".expand-wrapper[_ngcontent-%COMP%]{transition:max-height .4s ease-in-out;overflow:hidden;height:auto}.collapsed[_ngcontent-%COMP%]{max-height:0!important}"]}),e})()},688:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(639);const l=function(e){return{stroke:e}},o=function(e){return{"stroke-dashoffset":e}};let i=(()=>{class e{constructor(){this.range=-10,this.appearance="green"}ngOnInit(){}set value(e){this.range=-e/100*141}set color(e){this.appearance=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-guage"]],inputs:{value:"value",color:"color"},decls:3,vars:8,consts:[["viewBox","0 0 120 100",1,"absolute","top-2"],["d","M5 50 A20 20, 0,0 1,95 50 ","stroke","blue","stroke-width","5","fill","none"],["d","M5 50 A20 20, 0,0 1,95 50 ","stroke","white","stroke-width","5.7","fill","none",1,"arc"]],template:function(e,t){1&e&&(r["\u0275\u0275namespaceSVG"](),r["\u0275\u0275elementStart"](0,"svg",0),r["\u0275\u0275element"](1,"path",1),r["\u0275\u0275element"](2,"path",2),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275styleMap"](r["\u0275\u0275pureFunction1"](4,l,t.appearance)),r["\u0275\u0275advance"](1),r["\u0275\u0275styleMap"](r["\u0275\u0275pureFunction1"](6,o,t.range)))},styles:[".arc[_ngcontent-%COMP%]{stroke-dasharray:141;stroke-dashoffset:0}"]}),e})()},6954:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(639),l=n(3083),o=n(4031),i=n(665);let s=(()=>{class e{constructor(e,t){this.modalController=e,this.global=t,this.email=""}ngOnInit(){}save(){return this.email?this.modalController.dismiss(this.email):this.global.alert("Share Medication","Email is required!",[{role:!0,text:"OK"}])}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](l.ModalController),r["\u0275\u0275directiveInject"](o.U))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-share-email"]],decls:15,vars:1,consts:[[1,"bg-blue-100","px-4","py-6","ion-no-border","text-xl","flex","justify-between","items-center"],[1,"font-bold"],["name","close",1,"bg-gray-500","text-2xl","text-white","rounded-full",3,"click"],[1,"p-4"],[1,"mb-4"],["position","stacked",1,"block","font-calibre","w-full"],["type","text","placeholder","Enter email",3,"ngModel","ngModelChange"],[1,"bg-accentBlue","p-4","font-semibold","text-center","block","text-white","uppercase","rounded-xl","mt-10",3,"click"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"ion-app"),r["\u0275\u0275elementStart"](1,"ion-header",0),r["\u0275\u0275elementStart"](2,"p",1),r["\u0275\u0275text"](3,"Choose email"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"ion-icon",2),r["\u0275\u0275listener"]("click",function(){return t.modalController.dismiss()}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"ion-content"),r["\u0275\u0275elementStart"](6,"div",3),r["\u0275\u0275elementStart"](7,"p",4),r["\u0275\u0275text"](8,"What email address would you like to share record with"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](9,"ion-item"),r["\u0275\u0275elementStart"](10,"ion-label",5),r["\u0275\u0275text"](11,"Email"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"ion-input",6),r["\u0275\u0275listener"]("ngModelChange",function(e){return t.email=e}),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](13,"div",7),r["\u0275\u0275listener"]("click",function(){return t.save()}),r["\u0275\u0275text"](14," Continue "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](12),r["\u0275\u0275property"]("ngModel",t.email))},directives:[l.IonApp,l.IonHeader,l.IonIcon,l.IonContent,l.IonItem,l.IonLabel,l.IonInput,l.TextValueAccessor,i.NgControlStatus,i.NgModel],styles:[""]}),e})()},3286:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(6215),l=n(9019),o=n(639),i=n(1841),s=n(9709);let a=(()=>{class e{constructor(e,t){this.http=e,this.userService=t,this.url=l.N.apiUrl+"/health";const n=this.userService.fetchDetails(),{user_details:{}}=n,{hba1c:o,health:i}=n;this.allhbac1=new r.X(o||[]),this.health=new r.X(i)}getHba1c(){return this.updateHba1c(),this.allhbac1}getHealth(){return this.updateHealth(),this.health}updateHba1c(){const e=this.userService.fetchDetails(),{user_details:{id:t}}=e;this.http.get(`${this.url}/allHba1c/${t}`).subscribe(t=>{this.userService.setDetails(Object.assign(Object.assign({},e),{hba1c:t})),this.allhbac1.next(t)})}addHealth(e){const t=this.userService.fetchDetails(),{user_details:{id:n}}=t;return this.http.post(`${this.url}/update_health/${n}`,{diabetics:Number(e),user_id:n,time:new Date})}updateHealth(){const e=this.userService.fetchDetails(),{user_details:{id:t}}=e;this.http.get(`${this.url}/all/${t}`).subscribe(({diabetics:t})=>{this.userService.setDetails(Object.assign(Object.assign({},e),{health:t})),this.health.next(t)})}remove(e){const t=this.userService.fetchDetails(),{user_details:{id:n}}=t;return this.http.delete(`${this.url}/deleteHba1c/${e}?user_id=${n}`)}addHba1c(e){const{user_details:{id:t}}=this.userService.fetchDetails();return this.http.post(`${this.url}/addHba1c`,Object.assign(Object.assign({},e),{user_id:t}))}share(e){const{user_details:{id:t}}=this.userService.fetchDetails();return this.http.post(`${l.N.apiUrl}/share/shareMail`,Object.assign(Object.assign({},e),{user_id:t}))}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](i.eN),o["\u0275\u0275inject"](s.K))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);